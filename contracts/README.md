# Domain Name Service Contract

## Address

[B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS](https://minascan.io/devnet/account/B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS/txs?type=zk-acc

## Architecture

![Domain Name Service Contract](/contracts/docs/DomainName7.svg)

## Running tests

Please create env.json using example and run

```sh
yarn test
```

You can contact the developer to get the keys.

## Contract state example

```
contract state: {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  startBlock: 'B62qiiScGLLAQPRkkB5Zcd8hjSzp1nzhqQp7YNf21knu9BTZb4XvPzr',
  blocks: [
    {
      blockNumber: 46,
      blockAddress: 'B62qiiScGLLAQPRkkB5Zcd8hjSzp1nzhqQp7YNf21knu9BTZb4XvPzr',
      root: '2130032469088646959147834153774703522651998737588809057552888868905180436923',
      ipfs: 'bafkreif4qxachwfag64swm2ksu6qwqduopg4euhwqj3wahzhdkejz4caiq',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715355925528',
      txsCount: '1',
      txsHash: '1501204828610533408527164694407592687814421837741503622104464605521884520677',
      previousBlockAddress: 'B62qoMDHXzSN3M1adcuuMuMWyvVPF9AU6LrNNz12NbcQkPVeNv91VLa'
    },
    {
      blockNumber: 45,
      blockAddress: 'B62qoMDHXzSN3M1adcuuMuMWyvVPF9AU6LrNNz12NbcQkPVeNv91VLa',
      root: '23172145954128539619140121072222012301401808582008669025412496037162320475111',
      ipfs: 'bafkreidnimuwhjiefazcxtsjwgywv2ze4j7janlw2zqvmc62h73zonc3dm',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715341821076',
      txsCount: '1',
      txsHash: '14109151825259664790269760535153575978648403231188720117913052570073159203760',
      previousBlockAddress: 'B62qndaJD8T4uaQ6opEcKF1avkQ6qpN8rafcqiNdqPteXmW6PHbzuRy'
    },
    {
      blockNumber: 44,
      blockAddress: 'B62qndaJD8T4uaQ6opEcKF1avkQ6qpN8rafcqiNdqPteXmW6PHbzuRy',
      root: '19523229151484771045604197017534357390184821206959850270889015563712843794019',
      ipfs: 'bafkreicoftnz5yzlwfapragn5elqmjyufvjw3t2gdlcywykwz3s23t545u',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715340323895',
      txsCount: '1',
      txsHash: '14622287518236466291451981189139479514859507173469434888933033825447428965093',
      previousBlockAddress: 'B62qrCVobWTTLZ23f1eaYWnnRXojMB4xYMTUXoURLR8oQ4Y8cGjs3Pk'
    },
    {
      blockNumber: 43,
      blockAddress: 'B62qrCVobWTTLZ23f1eaYWnnRXojMB4xYMTUXoURLR8oQ4Y8cGjs3Pk',
      root: '21971327727111491025124842598432498642084899822327313020496420208018315982051',
      ipfs: 'bafkreicyobh46g5plngthomrmjugbdwt7bndk5hpuzsnld3h7yencd6wcq',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715336424072',
      txsCount: '1',
      txsHash: '21284946116102783402688897701453625421416780555672398641322372330862956466242',
      previousBlockAddress: 'B62qowhJqA5oUZAJbPg9BLKej6ZWjVGFufEvRkZSGujjDvvpo9GH8NN'
    },
    {
      blockNumber: 42,
      blockAddress: 'B62qowhJqA5oUZAJbPg9BLKej6ZWjVGFufEvRkZSGujjDvvpo9GH8NN',
      root: '19553764611886175833830656062159260689144587221578798601012832900935769205927',
      ipfs: 'bafkreibzfmefzodbho6mwxuy66hxuf7dqmlrr6hbdsekbrjuvmou2qeoiq',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715334323327',
      txsCount: '1',
      txsHash: '1327399996450071594862159839000176557211684909691020995648363768958420267831',
      previousBlockAddress: 'B62qmj84daCjRzdYnweByJEzb9wwFVoNsKc7fDuUG6e6RzCGrVFs9ZG'
    },
    {
      blockNumber: 41,
      blockAddress: 'B62qmj84daCjRzdYnweByJEzb9wwFVoNsKc7fDuUG6e6RzCGrVFs9ZG',
      root: '17064307981906986836287550390379996816881815788195474049073039272243129469466',
      ipfs: 'bafkreif2zegdsp6zyb7mclvg7qzfrgllxn6i32dwije7ovlmwajricrkyu',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715331923093',
      txsCount: '1',
      txsHash: '16127131830084938184257393783934240601027303251069863020796993921051864800457',
      previousBlockAddress: 'B62qmP9HeAUddv4RoBQkohLupa3CwZx97DebGMEEJXE5V9f2d66B2zh'
    },
    {
      blockNumber: 40,
      blockAddress: 'B62qmP9HeAUddv4RoBQkohLupa3CwZx97DebGMEEJXE5V9f2d66B2zh',
      root: '20210205543809672647311206816612805875577616867899171669926513301943551374361',
      ipfs: 'bafkreigjhebh7cwss2nmlodvpekst34caf2z4xvvp3mjfw3572tadd5yta',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715331019359',
      txsCount: '1',
      txsHash: '10999581922215473723211118052080651334033602994541853514286399816063468998303',
      previousBlockAddress: 'B62qmjLaLieY4ininfk9CcQRF8j7NPtxUr5J6oj6abhRikfdTocnpeB'
    },
    {
      blockNumber: 39,
      blockAddress: 'B62qmjLaLieY4ininfk9CcQRF8j7NPtxUr5J6oj6abhRikfdTocnpeB',
      root: '8560431650339476719335920790977768553154062551382508992793184619438851563075',
      ipfs: 'bafkreidxjjujk67cixgcahw5jizghktmlu5y2ytg4oj6ekaury6ja5heju',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715325928971',
      txsCount: '3',
      txsHash: '19773649693928504905418508554002393560569412321793853436200807133814969293568',
      previousBlockAddress: 'B62qjehGHvJqTbHCnwPEiXjHWhxr2dx3ZTxry25xdc34tgSzxQNE6gX'
    },
    {
      blockNumber: 38,
      blockAddress: 'B62qjehGHvJqTbHCnwPEiXjHWhxr2dx3ZTxry25xdc34tgSzxQNE6gX',
      root: '27581619874165424879989041820653382975840541475843556589123522573678751632567',
      ipfs: 'bafkreie6ifmog2ymyudwqfhngowd4zbjiaeg6vwbr7myuw6z3nyxvmw5y4',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715321721108',
      txsCount: '1',
      txsHash: '15794786296292343648102663104950580911712806529656565796799553290566227067437',
      previousBlockAddress: 'B62qraTJAVa8FwnppDUmw81A6iMZpXNXURxXyBHLYMbR8mjvZ3CEpTJ'
    },
    {
      blockNumber: 37,
      blockAddress: 'B62qraTJAVa8FwnppDUmw81A6iMZpXNXURxXyBHLYMbR8mjvZ3CEpTJ',
      root: '8613441606224650738619087574312474286405718820391030466741667527330406913788',
      ipfs: 'bafkreicjix5eykhftvihlvgfr2xdk6exmssptuuvyl6dh5jarywagryxcy',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715183722905',
      txsCount: '1',
      txsHash: '19723731650950593012384082397899059864792228461344248338754091368105325209778',
      previousBlockAddress: 'B62qiaBfL24RfnivSnDet73HLpfQWe5fJFwqoH1uZLFtMTxx3QEXVs6'
    }
  ],
  contractState: {
    domain: 'mina',
    validatorsPacked: '11546348373152479861636911376937724452682307296908590531482540148873923773675',
    lastCreatedBlock: {
      address: 'B62qiiScGLLAQPRkkB5Zcd8hjSzp1nzhqQp7YNf21knu9BTZb4XvPzr',
      blockNumber: '46'
    },
    lastValidatedBlock: {
      address: 'B62qiiScGLLAQPRkkB5Zcd8hjSzp1nzhqQp7YNf21knu9BTZb4XvPzr',
      blockNumber: '46'
    },
    lastProvedBlock: {
      address: 'B62qiiScGLLAQPRkkB5Zcd8hjSzp1nzhqQp7YNf21knu9BTZb4XvPzr',
      blockNumber: '46'
    }
  }
}
```

## Block data example

### Block data

https://gateway.pinata.cloud/ipfs/bafkreif4qxachwfag64swm2ksu6qwqduopg4euhwqj3wahzhdkejz4caiq

### Block database

https://gateway.pinata.cloud/ipfs/bafkreics5ttcf6ah7lye2o4yezrluf2hmm63jsntkdgq3gqnac5fxvxijq

### Block Merkle Map (serialized)

https://gateway.pinata.cloud/ipfs/bafybeic3pznp2jwzbofeisnhybca7bgpufi5u45mvesryxxn7gpbo6d4re

### Block creation tx

https://minascan.io/devnet/tx/5Jtn5HzfB9SiBALSZee6FdF1rb3S6sXmiPybnfrrDg8tkvtjGhY7?type=zk-tx

### Block validation tx

https://minascan.io/devnet/tx/5JtXq1mBG7kRTBMKuW4t6xfTPY7adBwZr85MDp1z6Sttt2otBP68?type=zk-tx

### Block proving tx

https://minascan.io/devnet/tx/5JuVP3jEN2swWHxvtDTxRWXj9hFKzfppn2kHhawjB3WvDBPsmpWX?type=zk-tx

## Domain name info example

```
metadata: {
  name: 'vit1',
  address: 'B62qoTtn6hP2R1x5d4UQoJos9vjoNGxLhaQn5cSKneu25Q3wpmtPirT',
  ipfs: 'bafkreidkx7lqyg2igyolhepxxw35ajlemilojjftj6n6jwumulppgjhdya',
  expiry: '1',
  uri: 'https://gateway.pinata.cloud/ipfs/bafkreidkx7lqyg2igyolhepxxw35ajlemilojjftj6n6jwumulppgjhdya',
  url: 'https://minanft.io/nft/ibafkreidkx7lqyg2igyolhepxxw35ajlemilojjftj6n6jwumulppgjhdya',
  nft: {
    name: 'vit1',
    address: 'B62qoTtn6hP2R1x5d4UQoJos9vjoNGxLhaQn5cSKneu25Q3wpmtPirT',
    image: 'https://gateway.pinata.cloud/ipfs/QmYMHWQ5hNFcz5cLH1gMnD4Qn7kpXaamK8tf73fLHmPbNZ',
    time: 1715095180694,
    metadata: {
      data: '16627511601919436665510978054621488173688930264109586511502563536854459983092',
      kind: '23886098354751482800540466553834088190701105455772003113256069882566702751556'
    },
    properties: { contractAddress: [Object], image: [Object] }
  }
} {
  contractAddress: {
    data: '26929310013616128912085835699389862075348028138113103056698338945971385004807',
    kind: 'text',
    linkedObject: {
      type: 'text',
      MerkleTreeHeight: 7,
      size: 55,
      text: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS'
    }
  },
  image: {
    data: '24023970755197416120862511379473524507214650018563511764685791761930832543220',
    kind: 'image',
    linkedObject: {
      fileMerkleTreeRoot: '0',
      MerkleTreeHeight: 0,
      size: 3340912,
      mimeType: 'image/webp',
      SHA3_512: 'AjGiLLQCZ0quVHtmIria3VikyvANY5z5Vnxf3IZTUxq3LURILDmVQx4yaaeXL45FMCQ9Sx5oVCMAgYQSLkO30g==',
      filename: '443e51f18f2740bbd8ba55c31eaf2a',
      storage: 'i:QmYMHWQ5hNFcz5cLH1gMnD4Qn7kpXaamK8tf73fLHmPbNZ',
      fileType: 'binary',
      metadata: '0'
    }
  }
}
```

## Test log example

```
contracts % yarn test
[10:36:41 PM] Preparing data...
[10:36:41 PM] domainNames: [ 'shawnee', 'virgina' ]
[10:36:41 PM] prepared data: 3.218ms
[10:36:41 PM] RSS memory initializing blockchain: 401 MB
[10:36:41 PM] chain: local
[10:36:41 PM] Block producer account not found, creating...
[10:36:41 PM] wallet: B62qpsakdPhPAsSQ3McKYSSmo46Bd5p6qR9uLaihXd6xF1NczU547um
[10:36:41 PM] block producer account creation tx sent: hash: 5JvC78KWBx9TruEyTcP5rJHm5RB4bABVxvZ2PiuTRho5EGS18bzp status: pending
[10:36:41 PM] block producer account creation tx included into block: hash: 5JvC78KWBx9TruEyTcP5rJHm5RB4bABVxvZ2PiuTRho5EGS18bzp status: included
[10:36:41 PM] blockchain initialized: local
[10:36:41 PM] contract address: B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS
[10:36:41 PM] Network ID: testnet
[10:36:41 PM] sender: B62qm2mV1wazm2FSsKaK5KunNcuNyaLK19cy8548vQb1skPwxX3kpnZ
[10:36:41 PM] Sender balance: 1000
[10:36:41 PM] Block producer balance: 500
[10:36:41 PM] RSS memory blockchain initialized: 529 MB, changed by 128 MB
[10:36:41 PM] Analyzing contract methods...
[10:36:47 PM] methods analyzed: 5.673s
[10:36:47 PM] method's total size for a DomainNameContract is 8253 rows (13% of max 65536 rows)
[10:36:47 PM] block rows: 2447
[10:36:47 PM] blockZero rows: 1310
[10:36:47 PM] validateBlock rows: 1106
[10:36:47 PM] proveBlock rows: 945
[10:36:47 PM] proveBlockProofsOff rows: 945
[10:36:47 PM] badBlock rows: 912
[10:36:47 PM] setValidators rows: 588
[10:36:47 PM] method's total size for a BlockContract is 2398 rows (4% of max 65536 rows)
[10:36:47 PM] validateBlock rows: 830
[10:36:47 PM] badBlock rows: 764
[10:36:47 PM] proveBlock rows: 804
[10:36:47 PM] method's total size for a ValidatorsVoting is 571 rows (1% of max 65536 rows)
[10:36:47 PM] method's total size for a MapUpdate is 34141 rows (52% of max 65536 rows)
[10:36:47 PM] Compiling contracts...
[10:37:45 PM] MapUpdate compiled: 57.634s
[10:38:05 PM] ValidatorsVoting compiled: 20.409s
[10:38:11 PM] BlockContract compiled: 6.165s
[10:38:38 PM] DomainNameContract compiled: 26.895s
[10:38:38 PM] compiled: 1:51.103 (m:ss.mmm)
[10:38:38 PM] contract verification key 11259961439167484353268042922095981826325820771029550591141031678246702102151
[10:38:38 PM] block verification key 23865988995461475291119920614504503675388183270341449912762147824307792223993
[10:38:38 PM] RSS memory compiled: 3403 MB, changed by 2874 MB
[10:38:38 PM] Deploying contract...
[10:38:39 PM] deploy tx sent: hash: 5JtiniY9tjEtv69Zi1LbPVAiMo5hgjxxBLEEM6ha7AZYdiCwrc4F status: pending
[10:38:39 PM] deploy tx included into block: hash: 5JtiniY9tjEtv69Zi1LbPVAiMo5hgjxxBLEEM6ha7AZYdiCwrc4F status: included
[10:38:39 PM] RSS memory deployed: 3371 MB, changed by -32 MB
[10:38:49 PM] validatorsPacked: 11546348373152479861636911376937724452682307296908590531482540148873923773675
[10:38:49 PM] Sending block 0...
[10:38:49 PM] RSS memory sending block 0: 3285 MB, changed by -86 MB
[10:38:57 PM] block 0 tx sent: hash: 5Ju1HQTenE2R8iyCKfqp6m1UczVecneWF18ziGSP8VHo4atBn5tn status: pending
[10:38:57 PM] block 0 tx included into block: hash: 5Ju1HQTenE2R8iyCKfqp6m1UczVecneWF18ziGSP8VHo4atBn5tn status: included
[10:38:57 PM] RSS memory block 0 sent: 3547 MB, changed by 262 MB
[10:39:27 PM] Adding task to process transactions...
[10:39:27 PM] zkcloudworker cloud chain: local
[10:39:27 PM] Adding txTask, proofs off: false
[10:39:27 PM] api call result: {
  success: true,
  jobId: undefined,
  result: 'txTask added',
  error: undefined
}
[10:39:27 PM] Processing tasks...
[10:39:27 PM] zkcloudworker cloud chain: local
[10:39:27 PM] Executing task txTask with taskId local.1715542767907.WUVHPRn0VbcBlBa0fyIH0oU52imqNCSQ
[10:39:27 PM] txTask with 0 transaction(s)
[10:39:27 PM] tx api call result: {
  success: true,
  txId: [
    'local.1715542767911.vy317JsmTJPOzPQWsnie2kFTTa6qfUVa',
    'local.1715542767911.CtMzMGag6HDEuqy27XEIhGV547na1v8G'
  ],
  error: undefined
}
[10:39:27 PM] Txs to the block sent: 0.616ms
[10:39:27 PM] Processing tasks...
[10:39:27 PM] zkcloudworker cloud chain: local
[10:39:27 PM] Executing task txTask with taskId local.1715542767907.WUVHPRn0VbcBlBa0fyIH0oU52imqNCSQ
txTask is already running, detected double invocation, exiting
[10:39:27 PM] txTask with 2 transaction(s)
[10:39:27 PM] Executing txTask with 2 transactions, first tx created at 5/12/2024, 10:39:27 PM...
[10:39:27 PM] args {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  txToken: 'sYXjYhrviMI3CkIVgZln0JMphLYQm4O7'
}
[10:39:27 PM] previousBlockAddress B62qpRmnH6SU4hZ9Z9JLm877SUaHSahFhu1nTwiPzJgmsZ2AsMnNAME
[10:39:27 PM] Creating block 1, last valid block: 0 [ 'shawnee', 'virgina' ]
[10:39:29 PM] Creating transactions...
[10:39:29 PM] Merging states...
[10:39:29 PM] Pinning to IPFS...
[10:39:30 PM] saveToIPFS: {
  name: 'rollup-nft.json',
  keyvalues: { project: 'MinaNFT', type: 'metadata', nftType: 'RollupNFT' }
}
[10:39:32 PM] saveToIPFS result: {
  IpfsHash: 'bafkreifieqzpscpyaafh4n75celugk6eqaql6jlhhb5hewgtmkwbaitvde',
  PinSize: 556,
  Timestamp: '2024-05-12T19:39:31.700Z'
}
[10:39:33 PM] Creating transactions...
[10:39:33 PM] Merging states...
[10:39:33 PM] Pinning to IPFS...
[10:39:34 PM] saveToIPFS: {
  name: 'rollup-nft.json',
  keyvalues: { project: 'MinaNFT', type: 'metadata', nftType: 'RollupNFT' }
}
[10:39:35 PM] saveToIPFS result: {
  IpfsHash: 'bafkreida4l7exhrsmcciftd2wppv3usnhaekkctiwyomp2ricyhww3maym',
  PinSize: 556,
  Timestamp: '2024-05-12T19:39:34.833Z'
}
[10:39:35 PM] Approved names: [ 'shawnee', 'virgina' ]
[10:39:35 PM] Rejected names: []
[10:39:35 PM] Elements count: 2 2
[10:39:35 PM] Creating block with 2 transactions of 2 transactions...
[10:39:35 PM] full validation: 99.931ms
[10:39:35 PM] Calculating block for 2 elements...
[10:39:35 PM] Block calculated: 2 transactions, invalid txs: 0
[10:39:35 PM] full validation: 129.176ms
[10:39:37 PM] saveToIPFS result: {
  result: {
    IpfsHash: 'bafkreid6cymz4jeck42chcmhpuhotg2tfrbjm4cua2scsegjoayjk3we2i',
    PinSize: 35916,
    Timestamp: '2024-05-12T19:39:36.736Z'
  },
  name: 'block.1.map.B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS.json',
  keyvalues: {
    blockNumber: '1',
    type: 'Merkle Map',
    contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
    repo: 'nameservice',
    developer: '@staketab',
    id: 'local',
    userId: undefined,
    chain: 'local',
    networkId: '6577770607034210121740126725523614592400349366097936135627303789353456128303'
  }
}
[10:39:37 PM] map saved to IPFS: 1.155s
[10:39:38 PM] saveToIPFS result: {
  result: {
    IpfsHash: 'bafkreidhacfrcxdt4ncrx6bcagxt2m7tcjgpyjbtoq3boqruaayfvdvwjy',
    PinSize: 675,
    Timestamp: '2024-05-12T19:39:37.816Z'
  },
  name: 'block.1.database.B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS.json',
  keyvalues: {
    blockNumber: '1',
    type: 'block database',
    contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
    repo: 'nameservice',
    developer: '@staketab',
    id: 'local',
    userId: undefined,
    chain: 'local',
    networkId: '6577770607034210121740126725523614592400349366097936135627303789353456128303'
  }
}
[10:39:38 PM] database saved to IPFS: 1.051s
[10:39:39 PM] saveToIPFS result: {
  result: {
    IpfsHash: 'bafkreiheqao46uck6svk56dzurrvbasbl663mxtwj5p7n6brz5pbdhdncm',
    PinSize: 3049,
    Timestamp: '2024-05-12T19:39:38.892Z'
  },
  name: 'block.1.B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS.json',
  keyvalues: {
    blockNumber: '1',
    type: 'block data',
    contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
    repo: 'nameservice',
    developer: '@staketab',
    id: 'local',
    userId: undefined,
    chain: 'local',
    networkId: '6577770607034210121740126725523614592400349366097936135627303789353456128303'
  }
}
[10:39:39 PM] Block 1 created: {
  hash: 'https://gateway.pinata.cloud/ipfs/bafkreiheqao46uck6svk56dzurrvbasbl663mxtwj5p7n6brz5pbdhdncm',
  databaseHash: 'https://gateway.pinata.cloud/ipfs/bafkreidhacfrcxdt4ncrx6bcagxt2m7tcjgpyjbtoq3boqruaayfvdvwjy',
  mapHash: 'https://gateway.pinata.cloud/ipfs/bafkreid6cymz4jeck42chcmhpuhotg2tfrbjm4cua2scsegjoayjk3we2i'
}
[10:39:39 PM] block calculated: 11.206s
[10:39:39 PM] CPU cores: 12
[10:39:58 PM] compiled MapUpdate: 19.366s
[10:39:59 PM] compiled BlockContract: 1.282s
[10:40:07 PM] compiled ValidatorsVoting: 7.651s
[10:40:23 PM] compiled DomainNameContract: 15.827s
[10:40:23 PM] compiled: 44.127s
[10:40:33 PM] validators proof verified: true
[10:40:33 PM] validators proof: 10.635s
[10:40:33 PM] Block producer balance: 500
[10:40:33 PM] Sending tx for block 1...
[10:40:46 PM] prepared tx: 12.806s
[10:40:47 PM] Block 1 sent with hash 5JvME9EijdpGBjm2oiSVe6uDVjgMx92jVVBXcCDfMk5DQZppWFvg and status pending
[10:40:47 PM] create block 1 tx included into block: hash: 5JvME9EijdpGBjm2oiSVe6uDVjgMx92jVVBXcCDfMk5DQZppWFvg status: included
[10:41:07 PM] block created: 1:39.598 (m:ss.mmm)
[10:41:17 PM] zkcloudworker cloud chain: local
[10:41:17 PM] Executing task txTask with taskId local.1715542767907.WUVHPRn0VbcBlBa0fyIH0oU52imqNCSQ
[10:41:17 PM] txTask with 2 transaction(s)
[10:41:17 PM] Executing txTask with 2 transactions, first tx created at 5/12/2024, 10:39:27 PM...
[10:41:17 PM] args {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  txToken: 'sYXjYhrviMI3CkIVgZln0JMphLYQm4O7'
}
[10:41:17 PM] previousBlockAddress B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc
[10:41:17 PM] Previous block is not final and not validated
[10:41:17 PM] zkcloudworker cloud chain: local
[10:41:17 PM] Executing task validateBlock with taskId local.1715542867550.5JakVLrIihWiffOYoY4VPOW1GqVf3jk8
[10:41:17 PM] Validating block 1...
[10:41:22 PM] blockNumber 1
[10:41:22 PM] Calculating block for 2 elements...
[10:41:23 PM] Block calculated: 2 transactions, invalid txs: 0
[10:41:23 PM] CPU cores: 12
[10:41:23 PM] compiled: 0.004ms
[10:41:33 PM] Sending validation tx for block 1, validation result: validated
[10:41:54 PM] validate block tx sent: hash: 5Ju7A19bdeX3HKjEpDCsC66rDErLuRSBgYEAyoKXh6uLgjDf5QjM status: pending
[10:41:54 PM] LocalCloud: releaseDeployer {
  publicKey: 'B62qm2mV1wazm2FSsKaK5KunNcuNyaLK19cy8548vQb1skPwxX3kpnZ',
  txsHashes: [ '5Ju7A19bdeX3HKjEpDCsC66rDErLuRSBgYEAyoKXh6uLgjDf5QjM' ]
}
[10:41:54 PM] zkcloudworker cloud chain: local
[10:41:54 PM] CPU cores: 12
[10:41:54 PM] compiled: 0.003ms
[10:42:10 PM] proof created with proofs on: 16.379s
[10:42:10 PM] CPU cores: 12
[10:42:10 PM] compiled: 0.002ms
[10:42:26 PM] proof created with proofs on: 15.289s
[10:42:26 PM] CPU cores: 12
[10:42:26 PM] compiled: 0.003ms
[10:42:47 PM] proof merged with proofs on: 21.444s
[10:42:47 PM] block 1 validated: 1:30.052 (m:ss.mmm)
[10:42:47 PM] validate block 1 tx included into block: hash: 5Ju7A19bdeX3HKjEpDCsC66rDErLuRSBgYEAyoKXh6uLgjDf5QjM status: included
[10:43:17 PM] zkcloudworker cloud chain: local
[10:43:17 PM] Executing task txTask with taskId local.1715542767907.WUVHPRn0VbcBlBa0fyIH0oU52imqNCSQ
[10:43:17 PM] txTask with 2 transaction(s)
[10:43:17 PM] Executing txTask with 2 transactions, first tx created at 5/12/2024, 10:39:27 PM...
[10:43:17 PM] args {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  txToken: 'sYXjYhrviMI3CkIVgZln0JMphLYQm4O7'
}
[10:43:17 PM] previousBlockAddress B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc
[10:43:17 PM] Creating block 2, last valid block: 1 [ 'shawnee', 'virgina' ]
[10:43:20 PM] Deleting 2 transactions from previous block...
[10:43:20 PM] Deleted 2 transactions from previous block: [ 'shawnee', 'virgina' ]
[10:43:20 PM] Approved names: []
[10:43:20 PM] Rejected names: []
[10:43:20 PM] Elements count: 0 0
[10:43:20 PM] Not enough transactions to create a block: 0
[10:43:20 PM] block calculated: 2.392s
[10:43:20 PM] block created: 2.392s
[10:43:20 PM] zkcloudworker cloud chain: local
[10:43:20 PM] Executing task proveBlock with taskId local.1715542967653.cqFqSecmOPiql9uGwjlhWJFJ8L6QQWPS
[10:43:20 PM] Proving block 1, proofs off: false
[10:43:20 PM] CPU cores: 12
[10:43:20 PM] compiled: 0.003ms
[10:43:40 PM] prove block tx sent: hash: 5JuWWXKDpWaLxwhVrb3d6o2bTQYeznLmQxGXczpmeVBSjDEfkFur status: pending
[10:43:40 PM] LocalCloud: releaseDeployer {
  publicKey: 'B62qm2mV1wazm2FSsKaK5KunNcuNyaLK19cy8548vQb1skPwxX3kpnZ',
  txsHashes: [ '5JuWWXKDpWaLxwhVrb3d6o2bTQYeznLmQxGXczpmeVBSjDEfkFur' ]
}
[10:43:40 PM] Block 1 is proved
[10:43:40 PM] proveBlock: 20.361s
[10:43:40 PM] prove block 1 tx included into block: hash: 5JuWWXKDpWaLxwhVrb3d6o2bTQYeznLmQxGXczpmeVBSjDEfkFur status: included
[10:44:00 PM] RSS memory tasks processed: 5004 MB, changed by 1457 MB
[10:44:00 PM] zkcloudworker cloud chain: local
[10:44:00 PM] blocks: {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  startBlock: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
  blocks: [
    {
      blockNumber: 1,
      blockAddress: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
      root: '2000161585904072408824168398018181251621155549110132873274699751067789827192',
      ipfs: 'bafkreiheqao46uck6svk56dzurrvbasbl663mxtwj5p7n6brz5pbdhdncm',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715542775235',
      txsCount: '2',
      txsHash: '18111908080971424667645337205825574101695580236637667625425972038162624644816',
      previousBlockAddress: 'B62qpRmnH6SU4hZ9Z9JLm877SUaHSahFhu1nTwiPzJgmsZ2AsMnNAME'
    }
  ],
  contractState: {
    domain: 'mina',
    validatorsPacked: '11546348373152479861636911376937724452682307296908590531482540148873923773675',
    lastCreatedBlock: {
      address: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
      blockNumber: '1'
    },
    lastValidatedBlock: {
      address: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
      blockNumber: '1'
    },
    lastProvedBlock: {
      address: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
      blockNumber: '1'
    }
  }
}
[10:44:00 PM] last proved block number: 1
[10:44:00 PM] index: 0
[10:44:00 PM] last proved block ipfs hash: bafkreiheqao46uck6svk56dzurrvbasbl663mxtwj5p7n6brz5pbdhdncm
[10:44:00 PM] block data: {
  blockNumber: 1,
  timeCreated: '1715542775235',
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  blockAddress: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
  root: '2000161585904072408824168398018181251621155549110132873274699751067789827192',
  blockProducer: 'B62qrjVdai5dwVie36KGy5cYrLN9YfB2EJ5mRXSEVcnzrA3Q3AqNAME',
  chainId: '6577770607034210121740126725523614592400349366097936135627303789353456128303',
  txsCount: '2',
  invalidTxsCount: 0,
  txsHash: '18111908080971424667645337205825574101695580236637667625425972038162624644816',
  previousBlockAddress: 'B62qpRmnH6SU4hZ9Z9JLm877SUaHSahFhu1nTwiPzJgmsZ2AsMnNAME',
  previousValidBlockAddress: 'B62qpRmnH6SU4hZ9Z9JLm877SUaHSahFhu1nTwiPzJgmsZ2AsMnNAME',
  oldRoot: '22731122946631793544306773678309960639073656601863129978322145324846701682624',
  transactions: [
    {
      name: 'shawnee',
      newDomain: 'I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ',
      tx: [Object],
      fields: [Object]
    },
    {
      name: 'virgina',
      newDomain: 'I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ',
      tx: [Object],
      fields: [Object]
    }
  ],
  database: 'i:bafkreidhacfrcxdt4ncrx6bcagxt2m7tcjgpyjbtoq3boqruaayfvdvwjy',
  map: 'i:bafkreid6cymz4jeck42chcmhpuhotg2tfrbjm4cua2scsegjoayjk3we2i'
}
[10:44:01 PM] Name: shawnee, Record: I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ
[10:44:01 PM] Name: virgina, Record: I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ
[10:44:02 PM] Rollup NFT shawnee
[10:44:02 PM] url: https://minanft.io/nft/ibafkreifieqzpscpyaafh4n75celugk6eqaql6jlhhb5hewgtmkwbaitvde
[10:44:02 PM] uri: https://gateway.pinata.cloud/ipfs/bafkreifieqzpscpyaafh4n75celugk6eqaql6jlhhb5hewgtmkwbaitvde
[10:44:03 PM] Rollup NFT virgina
[10:44:03 PM] url: https://minanft.io/nft/ibafkreida4l7exhrsmcciftd2wppv3usnhaekkctiwyomp2ricyhww3maym
[10:44:03 PM] uri: https://gateway.pinata.cloud/ipfs/bafkreida4l7exhrsmcciftd2wppv3usnhaekkctiwyomp2ricyhww3maym
[10:44:03 PM] Preparing data...
[10:44:03 PM] old domain: I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ
[10:44:03 PM] tx1: {
  operation: 'update',
  name: 'shawnee',
  address: 'B62qnJtwc7TZ5x2QBt1VWEmwLZnNDKtQUNDRHGJ1ZCUUH6eXLBB6AFZ',
  oldDomain: 'I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ',
  expiry: 1747079043906,
  metadata: '{"keys":[{"friend1":"Terrie"},{"friend2":"Suzi"},{"chain":"local"}],"image":{"size":287846,"mimeType":"image/jpeg","sha3_512":"qRm+FYlhRb1DHngZ0rIQHXAfMS1yTi6exdbfzrBJ/Dl1WuzCuif1v4UDsH4zY+tBFEVctBnHo2Ojv+0LBuydBw==","filename":"image.jpg","ipfsHash":"bafybeigkvkjhk7iii7b35u4e6ljpbtf5a6jdmzp3qdrn2odx76pubwvc4i"},"description":"This is a description of Rollup NFT for Mina Domain Name Service","contractAddress":"B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS"}'
}
[10:44:03 PM] test prepareSignTransactionData tx {
  operation: 'update',
  name: 'shawnee',
  address: 'B62qnJtwc7TZ5x2QBt1VWEmwLZnNDKtQUNDRHGJ1ZCUUH6eXLBB6AFZ',
  oldDomain: 'I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ',
  expiry: 1747079043906,
  metadata: '{"keys":[{"friend1":"Terrie"},{"friend2":"Suzi"},{"chain":"local"}],"image":{"size":287846,"mimeType":"image/jpeg","sha3_512":"qRm+FYlhRb1DHngZ0rIQHXAfMS1yTi6exdbfzrBJ/Dl1WuzCuif1v4UDsH4zY+tBFEVctBnHo2Ojv+0LBuydBw==","filename":"image.jpg","ipfsHash":"bafybeigkvkjhk7iii7b35u4e6ljpbtf5a6jdmzp3qdrn2odx76pubwvc4i"},"description":"This is a description of Rollup NFT for Mina Domain Name Service","contractAddress":"B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS"}'
}
[10:44:03 PM] zkcloudworker cloud chain: local
[10:44:03 PM] prepareSignTransactionData {
  operation: 'update',
  name: 'shawnee',
  address: 'B62qnJtwc7TZ5x2QBt1VWEmwLZnNDKtQUNDRHGJ1ZCUUH6eXLBB6AFZ',
  oldDomain: 'I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ',
  expiry: 1747079043906,
  metadata: '{"keys":[{"friend1":"Terrie"},{"friend2":"Suzi"},{"chain":"local"}],"image":{"size":287846,"mimeType":"image/jpeg","sha3_512":"qRm+FYlhRb1DHngZ0rIQHXAfMS1yTi6exdbfzrBJ/Dl1WuzCuif1v4UDsH4zY+tBFEVctBnHo2Ojv+0LBuydBw==","filename":"image.jpg","ipfsHash":"bafybeigkvkjhk7iii7b35u4e6ljpbtf5a6jdmzp3qdrn2odx76pubwvc4i"},"description":"This is a description of Rollup NFT for Mina Domain Name Service","contractAddress":"B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS"}'
}
[10:44:04 PM] Key: friend1, Value: Terrie
[10:44:04 PM] Key: friend2, Value: Suzi
[10:44:04 PM] Key: chain, Value: local
[10:44:08 PM] Creating transactions...
[10:44:09 PM] Merging states...
[10:44:09 PM] Pinning to IPFS...
[10:44:10 PM] saveToIPFS: {
  name: 'rollup-nft.json',
  keyvalues: { project: 'MinaNFT', type: 'metadata', nftType: 'RollupNFT' }
}
[10:44:12 PM] saveToIPFS result: {
  IpfsHash: 'bafkreic6phu6yf6dfkko6kwcnssb6dnja3df2p6evxd7xtfzokgi5a2ehq',
  PinSize: 1568,
  Timestamp: '2024-05-12T19:44:12.114Z'
}
[10:44:12 PM] prepareSignTransactionData result {
  operation: 'update',
  name: 'shawnee',
  address: 'B62qnJtwc7TZ5x2QBt1VWEmwLZnNDKtQUNDRHGJ1ZCUUH6eXLBB6AFZ',
  oldDomain: 'I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ',
  expiry: 1747079043906,
  metadata: 'C.vacO_MHHCQE3MLBtWWxFHH9Wm-OtvArjQtOBYaGOvyB.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK',
  signature: '{"signatureData":["3","100598091809384563","27559512408389604857718505160335969693768566503002816912490138555930870154099","1","18507759376553493467052821811150544908938308224389771245492653301719660272621","1220383054724594907887827201555292641629587111295989739548634752226487241395","173947825197299521405185456776614548279217964043638726945849349225723345513","2549558893685575456076244927545886260125679258488186340065932441878946870","1747079043906"]}',
  storage: 'C.j9KKYQVYPhb9nslBxZJhCP36CX6NbGpVl1rzSFNb6s.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB',
  newDomain: 'I.-j-JL3sT5JcNtl2D0iDUPJjzj9muXQTp8m2PKpqDXa.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB.CtpBGbZ'
}
[10:44:12 PM] test prepareSignTransactionData api call result: {
  success: true,
  jobId: undefined,
  result: '{"operation":"update","name":"shawnee","address":"B62qnJtwc7TZ5x2QBt1VWEmwLZnNDKtQUNDRHGJ1ZCUUH6eXLBB6AFZ","oldDomain":"I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ","expiry":1747079043906,"metadata":"C.vacO_MHHCQE3MLBtWWxFHH9Wm-OtvArjQtOBYaGOvyB.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK","signature":"{\\"signatureData\\":[\\"3\\",\\"100598091809384563\\",\\"27559512408389604857718505160335969693768566503002816912490138555930870154099\\",\\"1\\",\\"18507759376553493467052821811150544908938308224389771245492653301719660272621\\",\\"1220383054724594907887827201555292641629587111295989739548634752226487241395\\",\\"173947825197299521405185456776614548279217964043638726945849349225723345513\\",\\"2549558893685575456076244927545886260125679258488186340065932441878946870\\",\\"1747079043906\\"]}","storage":"C.j9KKYQVYPhb9nslBxZJhCP36CX6NbGpVl1rzSFNb6s.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB","newDomain":"I.-j-JL3sT5JcNtl2D0iDUPJjzj9muXQTp8m2PKpqDXa.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB.CtpBGbZ"}',
  error: undefined
}
[10:44:12 PM] test prepareSignTransactionData result tx: {
  operation: 'update',
  name: 'shawnee',
  address: 'B62qnJtwc7TZ5x2QBt1VWEmwLZnNDKtQUNDRHGJ1ZCUUH6eXLBB6AFZ',
  oldDomain: 'I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ',
  expiry: 1747079043906,
  metadata: 'C.vacO_MHHCQE3MLBtWWxFHH9Wm-OtvArjQtOBYaGOvyB.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK',
  signature: '{"signatureData":["3","100598091809384563","27559512408389604857718505160335969693768566503002816912490138555930870154099","1","18507759376553493467052821811150544908938308224389771245492653301719660272621","1220383054724594907887827201555292641629587111295989739548634752226487241395","173947825197299521405185456776614548279217964043638726945849349225723345513","2549558893685575456076244927545886260125679258488186340065932441878946870","1747079043906"]}',
  storage: 'C.j9KKYQVYPhb9nslBxZJhCP36CX6NbGpVl1rzSFNb6s.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB',
  newDomain: 'I.-j-JL3sT5JcNtl2D0iDUPJjzj9muXQTp8m2PKpqDXa.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB.CtpBGbZ'
}
[10:44:12 PM] tx2: {
  operation: 'update',
  name: 'shawnee',
  address: 'B62qnJtwc7TZ5x2QBt1VWEmwLZnNDKtQUNDRHGJ1ZCUUH6eXLBB6AFZ',
  oldDomain: 'I.FwaXPYQX2W0jOqMKWFk6za4Sh8AXVWoMnT07g_ovS-.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWamlWZxpHczNGc5FWYmhGNudTNjVGb1B.ntmNlFXYxxmNqxGaoJWNoV2dnRXbrdnYhlGd2RWZB.Ys9_FbZ',
  expiry: 1747079043906,
  metadata: 'C.vacO_MHHCQE3MLBtWWxFHH9Wm-OtvArjQtOBYaGOvyB.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK',
  signature: '{"signatureData":["3","100598091809384563","27559512408389604857718505160335969693768566503002816912490138555930870154099","1","18507759376553493467052821811150544908938308224389771245492653301719660272621","1220383054724594907887827201555292641629587111295989739548634752226487241395","173947825197299521405185456776614548279217964043638726945849349225723345513","2549558893685575456076244927545886260125679258488186340065932441878946870","1747079043906"]}',
  storage: 'C.j9KKYQVYPhb9nslBxZJhCP36CX6NbGpVl1rzSFNb6s.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB',
  newDomain: 'I.-j-JL3sT5JcNtl2D0iDUPJjzj9muXQTp8m2PKpqDXa.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB.CtpBGbZ'
}
[10:44:17 PM] old domain: I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ
[10:44:17 PM] tx1: {
  operation: 'update',
  name: 'virgina',
  address: 'B62qixyuPyhWMr2euEJCPDcEHv1yaT2Cd3UwwbTk39cxLq4MDuZkvkM',
  oldDomain: 'I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ',
  expiry: 1747079057470,
  metadata: '{"keys":[{"friend1":"Liana"},{"friend2":"Kristan"},{"chain":"local"}],"image":{"size":287846,"mimeType":"image/jpeg","sha3_512":"qRm+FYlhRb1DHngZ0rIQHXAfMS1yTi6exdbfzrBJ/Dl1WuzCuif1v4UDsH4zY+tBFEVctBnHo2Ojv+0LBuydBw==","filename":"image.jpg","ipfsHash":"bafybeigkvkjhk7iii7b35u4e6ljpbtf5a6jdmzp3qdrn2odx76pubwvc4i"},"description":"This is a description of Rollup NFT for Mina Domain Name Service","contractAddress":"B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS"}'
}
[10:44:17 PM] test prepareSignTransactionData tx {
  operation: 'update',
  name: 'virgina',
  address: 'B62qixyuPyhWMr2euEJCPDcEHv1yaT2Cd3UwwbTk39cxLq4MDuZkvkM',
  oldDomain: 'I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ',
  expiry: 1747079057470,
  metadata: '{"keys":[{"friend1":"Liana"},{"friend2":"Kristan"},{"chain":"local"}],"image":{"size":287846,"mimeType":"image/jpeg","sha3_512":"qRm+FYlhRb1DHngZ0rIQHXAfMS1yTi6exdbfzrBJ/Dl1WuzCuif1v4UDsH4zY+tBFEVctBnHo2Ojv+0LBuydBw==","filename":"image.jpg","ipfsHash":"bafybeigkvkjhk7iii7b35u4e6ljpbtf5a6jdmzp3qdrn2odx76pubwvc4i"},"description":"This is a description of Rollup NFT for Mina Domain Name Service","contractAddress":"B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS"}'
}
[10:44:17 PM] zkcloudworker cloud chain: local
[10:44:17 PM] prepareSignTransactionData {
  operation: 'update',
  name: 'virgina',
  address: 'B62qixyuPyhWMr2euEJCPDcEHv1yaT2Cd3UwwbTk39cxLq4MDuZkvkM',
  oldDomain: 'I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ',
  expiry: 1747079057470,
  metadata: '{"keys":[{"friend1":"Liana"},{"friend2":"Kristan"},{"chain":"local"}],"image":{"size":287846,"mimeType":"image/jpeg","sha3_512":"qRm+FYlhRb1DHngZ0rIQHXAfMS1yTi6exdbfzrBJ/Dl1WuzCuif1v4UDsH4zY+tBFEVctBnHo2Ojv+0LBuydBw==","filename":"image.jpg","ipfsHash":"bafybeigkvkjhk7iii7b35u4e6ljpbtf5a6jdmzp3qdrn2odx76pubwvc4i"},"description":"This is a description of Rollup NFT for Mina Domain Name Service","contractAddress":"B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS"}'
}
[10:44:17 PM] Key: friend1, Value: Liana
[10:44:17 PM] Key: friend2, Value: Kristan
[10:44:18 PM] Key: chain, Value: local
[10:44:22 PM] Creating transactions...
[10:44:23 PM] Merging states...
[10:44:23 PM] Pinning to IPFS...
[10:44:24 PM] saveToIPFS: {
  name: 'rollup-nft.json',
  keyvalues: { project: 'MinaNFT', type: 'metadata', nftType: 'RollupNFT' }
}
[10:44:26 PM] saveToIPFS result: {
  IpfsHash: 'bafkreibvran2grcgro3vlpr7vfvpenwlyv5pdok6rmhisrzd7dvmsmi3sm',
  PinSize: 1569,
  Timestamp: '2024-05-12T19:44:25.875Z'
}
[10:44:26 PM] prepareSignTransactionData result {
  operation: 'update',
  name: 'virgina',
  address: 'B62qixyuPyhWMr2euEJCPDcEHv1yaT2Cd3UwwbTk39cxLq4MDuZkvkM',
  oldDomain: 'I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ',
  expiry: 1747079057470,
  metadata: 'C.4yijE_YdL7ER71WqK54lwuclmXc0cgGvN0RrToTKkBD.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK',
  signature: '{"signatureData":["3","99482065765034358","18163555608103501213370262501526440066702519980422155127578637319029694152975","1","5862567887434161444638919616021100010825694546289324172599866242652450056463","1220383054724594907887827201555292641629587111295989739548634752226487241395","198704039688320381990333872419441066245989243717081795506965158731549129321","2522243224742528629623925487306951132344281165792263594345545286372781669","1747079057470"]}',
  storage: 'C.osujDxDcxrmWPN1YLCrP4upffgpdOEku6bKh7js2p-C.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB',
  newDomain: 'I.lm-U4olIeDsnPo3uh9jTJZISVKgnskQxTmWfyy7GGv.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB.-AtBGbZ'
}
[10:44:26 PM] test prepareSignTransactionData api call result: {
  success: true,
  jobId: undefined,
  result: '{"operation":"update","name":"virgina","address":"B62qixyuPyhWMr2euEJCPDcEHv1yaT2Cd3UwwbTk39cxLq4MDuZkvkM","oldDomain":"I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ","expiry":1747079057470,"metadata":"C.4yijE_YdL7ER71WqK54lwuclmXc0cgGvN0RrToTKkBD.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK","signature":"{\\"signatureData\\":[\\"3\\",\\"99482065765034358\\",\\"18163555608103501213370262501526440066702519980422155127578637319029694152975\\",\\"1\\",\\"5862567887434161444638919616021100010825694546289324172599866242652450056463\\",\\"1220383054724594907887827201555292641629587111295989739548634752226487241395\\",\\"198704039688320381990333872419441066245989243717081795506965158731549129321\\",\\"2522243224742528629623925487306951132344281165792263594345545286372781669\\",\\"1747079057470\\"]}","storage":"C.osujDxDcxrmWPN1YLCrP4upffgpdOEku6bKh7js2p-C.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB","newDomain":"I.lm-U4olIeDsnPo3uh9jTJZISVKgnskQxTmWfyy7GGv.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB.-AtBGbZ"}',
  error: undefined
}
[10:44:26 PM] test prepareSignTransactionData result tx: {
  operation: 'update',
  name: 'virgina',
  address: 'B62qixyuPyhWMr2euEJCPDcEHv1yaT2Cd3UwwbTk39cxLq4MDuZkvkM',
  oldDomain: 'I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ',
  expiry: 1747079057470,
  metadata: 'C.4yijE_YdL7ER71WqK54lwuclmXc0cgGvN0RrToTKkBD.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK',
  signature: '{"signatureData":["3","99482065765034358","18163555608103501213370262501526440066702519980422155127578637319029694152975","1","5862567887434161444638919616021100010825694546289324172599866242652450056463","1220383054724594907887827201555292641629587111295989739548634752226487241395","198704039688320381990333872419441066245989243717081795506965158731549129321","2522243224742528629623925487306951132344281165792263594345545286372781669","1747079057470"]}',
  storage: 'C.osujDxDcxrmWPN1YLCrP4upffgpdOEku6bKh7js2p-C.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB',
  newDomain: 'I.lm-U4olIeDsnPo3uh9jTJZISVKgnskQxTmWfyy7GGv.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB.-AtBGbZ'
}
[10:44:26 PM] tx2: {
  operation: 'update',
  name: 'virgina',
  address: 'B62qixyuPyhWMr2euEJCPDcEHv1yaT2Cd3UwwbTk39cxLq4MDuZkvkM',
  oldDomain: 'I.iVbrvJ3Px83eF8BHNtnLx5-n2e9-8ZF-XWAozb5xL2D.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Xk5D631wWnkaVFp44Ab2fjoL6N1OVlilByRx8jBV5QB.wSJTlw5pYgNZ1nEbULx1ZZIH1phtQSTw8kG22pgJwvB.ppjYhZ2ayVWakFGNsdTZ4hmcz12YjlmZ0RmM3BHc2B.zU3cuhWYlt2ajRXa3l3btBnMyl2Y5h2d3NTbhlXbB.Zs9_FbZ',
  expiry: 1747079057470,
  metadata: 'C.4yijE_YdL7ER71WqK54lwuclmXc0cgGvN0RrToTKkBD.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK',
  signature: '{"signatureData":["3","99482065765034358","18163555608103501213370262501526440066702519980422155127578637319029694152975","1","5862567887434161444638919616021100010825694546289324172599866242652450056463","1220383054724594907887827201555292641629587111295989739548634752226487241395","198704039688320381990333872419441066245989243717081795506965158731549129321","2522243224742528629623925487306951132344281165792263594345545286372781669","1747079057470"]}',
  storage: 'C.osujDxDcxrmWPN1YLCrP4upffgpdOEku6bKh7js2p-C.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB',
  newDomain: 'I.lm-U4olIeDsnPo3uh9jTJZISVKgnskQxTmWfyy7GGv.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB.-AtBGbZ'
}
[10:44:31 PM] prepared data: 27.266s
[10:44:31 PM] tx api call result: {
  success: true,
  txId: [
    'local.1715543071171.C7E6YH2k1FisOLkn7rJNSOrB9WtkfKkb',
    'local.1715543071171.JLECuzt1UL4cuh6dnBjEsHgthzWRVOVG'
  ],
  error: undefined
}
[10:44:31 PM] Txs to the block sent: 0.225ms
[10:44:31 PM] Processing tasks...
[10:44:31 PM] zkcloudworker cloud chain: local
[10:44:31 PM] Executing task txTask with taskId local.1715542767907.WUVHPRn0VbcBlBa0fyIH0oU52imqNCSQ
[10:44:31 PM] txTask with 2 transaction(s)
[10:44:31 PM] Executing txTask with 2 transactions, first tx created at 5/12/2024, 10:44:31 PM...
[10:44:31 PM] args {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  txToken: 'sYXjYhrviMI3CkIVgZln0JMphLYQm4O7'
}
[10:44:31 PM] previousBlockAddress B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc
[10:44:31 PM] Creating block 2, last valid block: 1 [ 'shawnee', 'virgina' ]
[10:44:32 PM] Deleting 2 transactions from previous block...
[10:44:32 PM] Transaction already deleted: shawnee
[10:44:32 PM] Cannot find tx to delete shawnee
[10:44:32 PM] Transaction already deleted: virgina
[10:44:32 PM] Cannot find tx to delete virgina
[10:44:32 PM] Deleted 2 transactions from previous block: [ 'shawnee', 'virgina' ]
[10:44:32 PM] Not found 2 names: [ 'shawnee', 'virgina' ]
[10:44:32 PM] Approved names: [ 'shawnee', 'virgina' ]
[10:44:32 PM] Rejected names: []
[10:44:32 PM] Elements count: 2 2
[10:44:32 PM] Creating block with 2 transactions of 2 transactions...
[10:44:32 PM] full validation: 180.643ms
[10:44:32 PM] Calculating block for 2 elements...
[10:44:32 PM] Block calculated: 2 transactions, invalid txs: 0
[10:44:32 PM] full validation: 126.811ms
[10:44:34 PM] saveToIPFS result: {
  result: {
    IpfsHash: 'bafkreifs7csqvqaghezddq7hjuycwxpvvx3suyvgcyion2krvrtb3om62u',
    PinSize: 35876,
    Timestamp: '2024-05-12T19:44:33.919Z'
  },
  name: 'block.2.map.B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS.json',
  keyvalues: {
    blockNumber: '2',
    type: 'Merkle Map',
    contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
    repo: 'nameservice',
    developer: '@staketab',
    id: 'local',
    userId: undefined,
    chain: 'local',
    networkId: '6577770607034210121740126725523614592400349366097936135627303789353456128303'
  }
}
[10:44:34 PM] map saved to IPFS: 1.270s
[10:44:35 PM] saveToIPFS result: {
  result: {
    IpfsHash: 'bafkreibloz3d2k4oqozl22ab7qtb5xjqilgv65kgrbu7rihycdlf7lu7ia',
    PinSize: 671,
    Timestamp: '2024-05-12T19:44:34.982Z'
  },
  name: 'block.2.database.B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS.json',
  keyvalues: {
    blockNumber: '2',
    type: 'block database',
    contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
    repo: 'nameservice',
    developer: '@staketab',
    id: 'local',
    userId: undefined,
    chain: 'local',
    networkId: '6577770607034210121740126725523614592400349366097936135627303789353456128303'
  }
}
[10:44:35 PM] database saved to IPFS: 1.193s
[10:44:36 PM] saveToIPFS result: {
  result: {
    IpfsHash: 'bafkreiawlc4nyl6pnzc3iddm5ydcwmqu5tt5gpuvs4rgkxb53f2dpjmg3q',
    PinSize: 5715,
    Timestamp: '2024-05-12T19:44:36.184Z'
  },
  name: 'block.2.B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS.json',
  keyvalues: {
    blockNumber: '2',
    type: 'block data',
    contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
    repo: 'nameservice',
    developer: '@staketab',
    id: 'local',
    userId: undefined,
    chain: 'local',
    networkId: '6577770607034210121740126725523614592400349366097936135627303789353456128303'
  }
}
[10:44:36 PM] Block 2 created: {
  hash: 'https://gateway.pinata.cloud/ipfs/bafkreiawlc4nyl6pnzc3iddm5ydcwmqu5tt5gpuvs4rgkxb53f2dpjmg3q',
  databaseHash: 'https://gateway.pinata.cloud/ipfs/bafkreibloz3d2k4oqozl22ab7qtb5xjqilgv65kgrbu7rihycdlf7lu7ia',
  mapHash: 'https://gateway.pinata.cloud/ipfs/bafkreifs7csqvqaghezddq7hjuycwxpvvx3suyvgcyion2krvrtb3om62u'
}
[10:44:36 PM] block calculated: 5.280s
[10:44:36 PM] CPU cores: 12
[10:44:36 PM] compiled: 0.009ms
[10:44:48 PM] validators proof verified: true
[10:44:48 PM] validators proof: 12.046s
[10:44:48 PM] Block producer balance: 498.8
[10:44:48 PM] Sending tx for block 2...
[10:45:01 PM] prepared tx: 13.163s
[10:45:02 PM] Block 2 sent with hash 5Ju32A6yduwG7UtkAmZ7W6M1UazwBzzpTVuKBnFtniLW1DEDH6oS and status pending
[10:45:02 PM] create block 2 tx included into block: hash: 5Ju32A6yduwG7UtkAmZ7W6M1UazwBzzpTVuKBnFtniLW1DEDH6oS status: included
[10:45:22 PM] block created: 51.319s
[10:45:32 PM] zkcloudworker cloud chain: local
[10:45:32 PM] Executing task txTask with taskId local.1715542767907.WUVHPRn0VbcBlBa0fyIH0oU52imqNCSQ
[10:45:32 PM] txTask with 2 transaction(s)
[10:45:32 PM] Executing txTask with 2 transactions, first tx created at 5/12/2024, 10:44:31 PM...
[10:45:32 PM] args {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  txToken: 'sYXjYhrviMI3CkIVgZln0JMphLYQm4O7'
}
[10:45:32 PM] previousBlockAddress B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D
[10:45:32 PM] Previous block is not final and not validated
[10:45:32 PM] zkcloudworker cloud chain: local
[10:45:32 PM] Executing task validateBlock with taskId local.1715543122510.cnot9K1Kr6pCxA0b8VdzWsZFbv9UkUbg
[10:45:32 PM] Validating block 2...
[10:45:36 PM] blockNumber 2
[10:45:36 PM] getting previous block data for validation, block number: 2 previous block: 1
[10:45:38 PM] Calculating block for 2 elements...
[10:45:38 PM] Block calculated: 2 transactions, invalid txs: 0
[10:45:39 PM] CPU cores: 12
[10:45:39 PM] compiled: 0.004ms
[10:45:49 PM] Sending validation tx for block 2, validation result: validated
[10:46:09 PM] validate block tx sent: hash: 5JvBPTQBGMoy99apLSPzBoPMqdmTSQ73J8HLVNCXKKSgUwvcQbWB status: pending
[10:46:09 PM] LocalCloud: releaseDeployer {
  publicKey: 'B62qm2mV1wazm2FSsKaK5KunNcuNyaLK19cy8548vQb1skPwxX3kpnZ',
  txsHashes: [ '5JvBPTQBGMoy99apLSPzBoPMqdmTSQ73J8HLVNCXKKSgUwvcQbWB' ]
}
[10:46:09 PM] zkcloudworker cloud chain: local
[10:46:09 PM] CPU cores: 12
[10:46:09 PM] compiled: 0.002ms
[10:46:25 PM] proof created with proofs on: 15.951s
[10:46:25 PM] CPU cores: 12
[10:46:25 PM] compiled: 0.002ms
[10:46:40 PM] proof created with proofs on: 15.564s
[10:46:40 PM] CPU cores: 12
[10:46:40 PM] compiled: 0.003ms
[10:47:00 PM] proof merged with proofs on: 20.139s
[10:47:00 PM] block 2 validated: 1:28.251 (m:ss.mmm)
[10:47:00 PM] validate block 2 tx included into block: hash: 5JvBPTQBGMoy99apLSPzBoPMqdmTSQ73J8HLVNCXKKSgUwvcQbWB status: included
[10:47:30 PM] zkcloudworker cloud chain: local
[10:47:30 PM] Executing task txTask with taskId local.1715542767907.WUVHPRn0VbcBlBa0fyIH0oU52imqNCSQ
[10:47:30 PM] txTask with 2 transaction(s)
[10:47:30 PM] Executing txTask with 2 transactions, first tx created at 5/12/2024, 10:44:31 PM...
[10:47:30 PM] args {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  txToken: 'sYXjYhrviMI3CkIVgZln0JMphLYQm4O7'
}
[10:47:30 PM] previousBlockAddress B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D
[10:47:30 PM] Creating block 3, last valid block: 2 [ 'shawnee', 'virgina' ]
[10:47:33 PM] Deleting 2 transactions from previous block...
[10:47:33 PM] Deleted 2 transactions from previous block: [ 'shawnee', 'virgina' ]
[10:47:33 PM] Approved names: []
[10:47:33 PM] Rejected names: []
[10:47:33 PM] Elements count: 0 0
[10:47:33 PM] Not enough transactions to create a block: 0
[10:47:33 PM] block calculated: 2.243s
[10:47:33 PM] block created: 2.243s
[10:47:33 PM] zkcloudworker cloud chain: local
[10:47:33 PM] Executing task proveBlock with taskId local.1715543220802.43Ss22b2KMGCm3hOG9GWTxZRWoNrYzkG
[10:47:33 PM] Proving block 2, proofs off: false
[10:47:33 PM] CPU cores: 12
[10:47:33 PM] compiled: 0.004ms
[10:47:53 PM] prove block tx sent: hash: 5JvEGnXw7N3aXo4vzB5yAVvbZmDW4xko8mcuz1zGMEGxNR3Ko3XQ status: pending
[10:47:53 PM] LocalCloud: releaseDeployer {
  publicKey: 'B62qm2mV1wazm2FSsKaK5KunNcuNyaLK19cy8548vQb1skPwxX3kpnZ',
  txsHashes: [ '5JvEGnXw7N3aXo4vzB5yAVvbZmDW4xko8mcuz1zGMEGxNR3Ko3XQ' ]
}
[10:47:53 PM] Block 2 is proved
[10:47:53 PM] proveBlock: 20.126s
[10:47:53 PM] prove block 2 tx included into block: hash: 5JvEGnXw7N3aXo4vzB5yAVvbZmDW4xko8mcuz1zGMEGxNR3Ko3XQ status: included
[10:48:13 PM] RSS memory tasks processed: 5099 MB, changed by 95 MB
[10:48:13 PM] zkcloudworker cloud chain: local
[10:48:13 PM] blocks: {
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  startBlock: 'B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D',
  blocks: [
    {
      blockNumber: 2,
      blockAddress: 'B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D',
      root: '20167966170068339431159281791722101504635160279490760645216202371851019967245',
      ipfs: 'bafkreiawlc4nyl6pnzc3iddm5ydcwmqu5tt5gpuvs4rgkxb53f2dpjmg3q',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715543072278',
      txsCount: '2',
      txsHash: '24239272018016853263886716951041806587144093404167280407257274463859203298472',
      previousBlockAddress: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc'
    },
    {
      blockNumber: 1,
      blockAddress: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
      root: '2000161585904072408824168398018181251621155549110132873274699751067789827192',
      ipfs: 'bafkreiheqao46uck6svk56dzurrvbasbl663mxtwj5p7n6brz5pbdhdncm',
      isValidated: true,
      isInvalid: false,
      isProved: true,
      isFinal: true,
      timeCreated: '1715542775235',
      txsCount: '2',
      txsHash: '18111908080971424667645337205825574101695580236637667625425972038162624644816',
      previousBlockAddress: 'B62qpRmnH6SU4hZ9Z9JLm877SUaHSahFhu1nTwiPzJgmsZ2AsMnNAME'
    }
  ],
  contractState: {
    domain: 'mina',
    validatorsPacked: '11546348373152479861636911376937724452682307296908590531482540148873923773675',
    lastCreatedBlock: {
      address: 'B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D',
      blockNumber: '2'
    },
    lastValidatedBlock: {
      address: 'B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D',
      blockNumber: '2'
    },
    lastProvedBlock: {
      address: 'B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D',
      blockNumber: '2'
    }
  }
}
[10:48:13 PM] last proved block number: 2
[10:48:13 PM] index: 0
[10:48:13 PM] last proved block ipfs hash: bafkreiawlc4nyl6pnzc3iddm5ydcwmqu5tt5gpuvs4rgkxb53f2dpjmg3q
[10:48:14 PM] block data: {
  blockNumber: 2,
  timeCreated: '1715543072278',
  contractAddress: 'B62qnXXnnwnyUKbEBuQM64LEfNcBRzCkeNSCu3H4mhbe7ittQX2mDNS',
  blockAddress: 'B62qkMWJcxgrKvQZoHVBTJX94kxX3mYvsksCws16LSaq9nzck1aMp5D',
  root: '20167966170068339431159281791722101504635160279490760645216202371851019967245',
  blockProducer: 'B62qrjVdai5dwVie36KGy5cYrLN9YfB2EJ5mRXSEVcnzrA3Q3AqNAME',
  chainId: '6577770607034210121740126725523614592400349366097936135627303789353456128303',
  txsCount: '2',
  invalidTxsCount: 0,
  txsHash: '24239272018016853263886716951041806587144093404167280407257274463859203298472',
  previousBlockAddress: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
  previousValidBlockAddress: 'B62qkDJ86V7Vxnn25cZ5qsJL76xcmnstLVGdXJQ9ZwnKEbdgh2Tgyfc',
  oldRoot: '2000161585904072408824168398018181251621155549110132873274699751067789827192',
  transactions: [
    {
      name: 'shawnee',
      newDomain: 'I.-j-JL3sT5JcNtl2D0iDUPJjzj9muXQTp8m2PKpqDXa.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB.CtpBGbZ',
      tx: [Object],
      fields: [Object]
    },
    {
      name: 'virgina',
      newDomain: 'I.lm-U4olIeDsnPo3uh9jTJZISVKgnskQxTmWfyy7GGv.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB.-AtBGbZ',
      tx: [Object],
      fields: [Object]
    }
  ],
  database: 'i:bafkreibloz3d2k4oqozl22ab7qtb5xjqilgv65kgrbu7rihycdlf7lu7ia',
  map: 'i:bafkreifs7csqvqaghezddq7hjuycwxpvvx3suyvgcyion2krvrtb3om62u'
}
[10:48:14 PM] Name: shawnee, Record: I.-j-JL3sT5JcNtl2D0iDUPJjzj9muXQTp8m2PKpqDXa.zhWY35WZlF.zNgcQTntZ2c1NtXnnKvtvaZZ4VAqr6uw0XK-ZlZIuzD.B.tvJ0RAfDQBiOsmnGb8y-jDKwf-0ijn_UlrOSmUUBrjC.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWajZDcoVnN5ZmNkZ2ar9mNrd3YuN3ciB.2QmbqF2MkZmMwZTZ2hHZ3gHdmp3brdWa1EmMlhWcB.CtpBGbZ
[10:48:14 PM] Name: virgina, Record: I.lm-U4olIeDsnPo3uh9jTJZISVKgnskQxTmWfyy7GGv.2lmcnlmbhF.PEErxsj1RYxA0V_2vsXOvyL0aL81UQaTVL0nMnUNogC.B.Pk-D_KjSbVJ-qiHafjVgNKyPa2xaj3E24pzPriIG2z.zqQGDOBjsCHJsdUFWymbXyQAXar4MAtfjhi6TtltyK.ppjYhZ2ayVWaiZnch5mMnJ3YnJ3bzYHbwJ3N2ZmdwB.l52dslnd1AHZvtmNy1GapNnc6R2NkZXbz1WazMXbB.-AtBGbZ
[10:48:17 PM] Rollup NFT shawnee
[10:48:17 PM] url: https://minanft.io/nft/ibafkreic6phu6yf6dfkko6kwcnssb6dnja3df2p6evxd7xtfzokgi5a2ehq
[10:48:17 PM] uri: https://gateway.pinata.cloud/ipfs/bafkreic6phu6yf6dfkko6kwcnssb6dnja3df2p6evxd7xtfzokgi5a2ehq
[10:48:19 PM] Rollup NFT virgina
[10:48:19 PM] url: https://minanft.io/nft/ibafkreibvran2grcgro3vlpr7vfvpenwlyv5pdok6rmhisrzd7dvmsmi3sm
[10:48:19 PM] uri: https://gateway.pinata.cloud/ipfs/bafkreibvran2grcgro3vlpr7vfvpenwlyv5pdok6rmhisrzd7dvmsmi3sm
[10:48:19 PM] Changing validators...
[10:48:19 PM] RSS memory changing validators: 5075 MB, changed by -24 MB
[10:48:30 PM] proof verified: { ok: true }
[10:48:30 PM] RSS memory proving: 5128 MB, changed by 53 MB
[10:48:30 PM] proving...
[10:48:43 PM] RSS memory signing: 5173 MB, changed by 45 MB
[10:48:43 PM] signing...
[10:48:43 PM] RSS memory sending: 5173 MB, changed by 0 MB
[10:48:43 PM] sending...
[10:48:44 PM] Change validators tx sent: hash: 5JusAaxSsqHrYYzb9qjWzeis59AuGqV9JubsNTobV6bRRqWizDrw status: pending
[10:48:44 PM] Change validators tx included into block: hash: 5JusAaxSsqHrYYzb9qjWzeis59AuGqV9JubsNTobV6bRRqWizDrw status: included
[10:48:44 PM] RSS memory validators changed: 5175 MB, changed by 2 MB
 PASS  tests/rollup.test.ts
  Domain Name Service Contract
    ✓ should prepare first block data (26 ms)
    ✓ should initialize blockchain (485 ms)
    ✓ should compile contract (116778 ms)
    ✓ should deploy contract (10324 ms)
    ✓ should sent block 0 (38813 ms)
    ✓ should add task to process transactions (7 ms)
    ✓ should send transactions for first block (272558 ms)
    ✓ should get Rollup's NFT URLs and uri from the DA layer (3435 ms)
    ✓ should prepare second block data (27267 ms)
    ✓ should send transactions for second block (222045 ms)
    ✓ should get Rollup's NFT URLs and uri from the DA layer (6007 ms)
    ✓ should change validators (24931 ms)

Test Suites: 1 passed, 1 total
Tests:       12 passed, 12 total
Snapshots:   0 total
Time:        724.085 s
Ran all test suites.
```
